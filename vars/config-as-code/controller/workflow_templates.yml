---
controller_workflows:
- name: wt_aap_controller_configure
  description: Workflow Template that Configures Automation Controller as Code. Requires project sync in order to get updated CaC in the Git repo, prior to actually running the JT.
  survey_enabled: false
  allow_simultaneous: false
  webhook_service: 'gitlab'
  extra_vars:
    env: "dev"
  workflow_nodes:
    - identifier: "ARM project sync" # project sync
      unified_job_template:
        organization:
          name: "ARM organisation"
        name: "ARM project"
        type: project # tells AAP that it's a project sync
      related:
        success_nodes:
          - identifier: jt_aap_controller_configure
    - identifier: jt_aap_controller_configure # JT run
      unified_job_template:
        organization:
          name: "ARM organisation"
        name: jt_aap_controller_configure
        type: job_template # tells AAP that it's a JT